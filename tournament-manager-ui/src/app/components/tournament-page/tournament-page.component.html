<h1>Tournament Manager 2025</h1>

<!-- Registered Tournaments Section -->
@if (registeredTournaments.length > 0) {
<div class="registered-tournaments">
    <h2>Registered Tournaments</h2>
    <div class="tournament-cards">
        @for (tournament of registeredTournaments; track tournament._id) {
        <div class="tournament-card">
            <h3>{{ tournament.title }}</h3>
            <div class="tournament-details">
                <p><strong>Type:</strong> {{ tournament.type }}</p>
                <p><strong>Category:</strong> {{ tournament.category }}</p>
                <p><strong>Location:</strong> {{ tournament.location }}</p>
                <p><strong>Date:</strong> {{ tournament.date | date:'medium' }}</p>
            </div>
        </div>
        }
    </div>
</div>
}

<!-- Brackets Section -->
@if (loadedData.length > 0) {
    <h2>Tournament Brackets</h2>
    @for (item of loadedData; track $index) {
    <div class="brackets-container">
        <app-stage-viewer [bracketsId]="'tournament-' + $index" [stageData]="item"></app-stage-viewer>
    </div>
    }
    <br>

    <div class="brackets-container">
        <h1>Categorías sin participantes</h1>

        <ul>
            @for (item of emptyBrackets; track $index) {
                <li>{{item.title}}</li>
            }
        </ul>
    </div>

    <div class="brackets-container">
        <h1>Categorías con un solo participante</h1>

        <ul>
            @for (item of smallBrackets; track $index) {
                <li><b>{{item.title}}: </b> {{item.roster[0].name}}</li>
            }
        </ul>
    </div>

    <div class="brackets-container">
        <h1>Dojos</h1>

        <ol>
            @for (item of allDojos; track $index) {
                <li>{{item}}</li>
            }
        </ol>
    </div>
    
<!-- 
    @for (item of katas; track $index) {
        <h1>{{item.title}} ({{item.roster.length}}) </h1>
        <ol>
            @for (challenger of item.roster; track $index) {
                <li>{{challenger.name}}</li>
            }
        </ol>
    } -->

}
@else {
    <p>No hay llaves disponibles...</p>
}